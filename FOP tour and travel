#include <iostream>
#include<string.h>
#include<stdlib.h>
#include<conio.h>
#include<windows.h>
#include<iomanip>
#define ENTER 13
#define TAB 9
#define BKSP 8
#define SPACE 32
using namespace std;
struct calTOT
{
	float distance;
	float hotel_usage;
	float tourCost;
	float tranCOST;
}tourTOT[20];
struct allData
{
    char reccomend1[20];
	char reccomend2[20];
	char reccomend3[20];;
	char reccomend4[20];;
	char reccomend5[20];;
	char avail1[20];
	char avail2[20];
	char avail3[20];;
};
struct date
{
		int depDay;
		int depmm;
		int depyy;
		int retday;
		int retmm;
		int retyy;
}date1;
struct payPal
{
	string name;
	string address;
	string email;
	string password;

}PAYPAL[20];
struct bahiTEchres
{
             		string name;
             		string email;
             		int age;
             		char sex;
             		string Tranum;
             		int numOFroom;
             		int num_of_gro;
             		string typeOfroom;
             		date date1;
}bahir[20];
	//this variable is used to recieve the returned value
	int retval;
	char enter;
// prototyping functions
int checkAvail(allData);  //used to check availability of tour
void adminlogin();
void userlogin();
void adminOUT();
void adminsearch();
void switchCheck();
void bahirDarFun();
void reccom();
void sortData();
void gondINFO();
void gondarFun();
void axumFun();
void laliFun();
void addPlace();
void semienFun();
void BahiINFO();
void newPlace();
void groupENTR();
void  ticketRESofB();
float  ticketcostB(calTOT);
void  ticketCANB();
void yourEntry();
void  update();
void loadingBar();
void paymentFUN();
void MainMenuScreen();
allData givenData={"Bahir Dar","Gondar","Axum","Lalibela","Semein mountain","Axum","Lalibela","Bahir Dar"};

int main ()
{
     MainMenuScreen();
    cout<<"press : ";
    enter = getche();
    cout<<endl;
     system("pause");
     system("color 07");
    switch(enter)
    {
    case '1':
        system("CLS");
        adminlogin();
        break;
    case '2':
        system("CLS");
        userlogin();
        break;
    case 'e':
        system("CLS");
        exit(1);
        break;
    case 'E':
        system("CLS");
        exit(1);
        break;
    }
    return 0;
}

void MainMenuScreen()
{
cout<<"               **      :::::::  !!!!!!!!           \n";
cout<<"            _____  **      ::       !!    !!         _____  \n";
cout<<"                 **      ::       !!    !!                \n";
cout<<"               ******  :::::::  !!!!!!!!            \n\n";

 cout<<"\n\n\t\t\n";
    cout<<"\t\t ....TO AASTU TOUR AND TRAVEL AGENCY...\n";
    cout<<"\t\t\n\n";
    cout<<"\t\t         \n";
    cout<<"\t\t MAIN MENU \n";
    cout<<"\t\t         \n";
    cout << "\t      " << setfill(' ') << setw(50) << "" << endl;
    cout << "\t      " << setfill('-') << setw(50) << "" << endl;
    cout << "\t      " << setfill(' ') << setw(50) << "" << endl;
    cout << "\t      " << setfill(' ') << setw(45) << "Please Select One of the Following Options" << setfill(' ') << setw(5) << "" << endl;
    cout << "\t      " << setfill(' ') << setw(50) << "" << endl;
    cout << "\t      " << setfill(' ') << setw(25) << "1. ADMIN" << setfill(' ') << setw(25) << "" << endl;
    cout << "\t      " << setfill(' ') << setw(28) << "2. NEW USER" << setfill(' ') << setw(22) << "" << endl;
    cout << "\t      " << setfill(' ') << setw(24) << "3. EXIT" << setfill(' ') << setw(26) << "" << endl;
    cout << "\t      " << setfill(' ') << setw(50) << "" << endl;
    cout << "\t      " << setfill(' ') << setw(50) << "" << endl;
    cout << "\t      " << setfill('') << setw(50) << "" << endl;
    cout << endl;
}

void adminlogin()
{
    int i = 0;
    char password[10], defpass[] = {"1234"};
    char admin[10], defAD[] = {"sectionB"};
again:
    cout<<"\n\n\n";
    cout<<"         WELCOME TO MY ADMIN \n";
    cout<<"Admin username : ";
    cin>>admin;
    cout<<"password : ";
    for(int i=0;i<9;i++)
    {
        enter= getch();
        if(enter==ENTER)
        {
            password[i] = '\0';
            break;
        }
        else if(enter== BKSP)
        {
            if(i > 0)
            {
                i--;
                cout<<"\b \b";
            }
        }

        else if(enter== TAB || enter== SPACE)
        {
            continue;
        }

        else
        {
            password[i]=enter;
    	      cout<<"*";
        }

    }
    if(strcmp(defAD, admin)==0 && strcmp(defpass, password)==0)
    {
        cout<<"\nSuccessfully Log in\n";
        system("pause");
        system("CLS");
        adminOUT();
    }
    else
    {
    	   system("color 04");
        cout<<"\nWrong try again !\n";
        system("color 07\n");
        system("\npause");
        system("CLS");
        goto again;
    }
}
void userlogin()
{
     returned :
     cout<<endl<<endl;
     cout<<"          ================ AASTU tour and travel agency gives these tour services ============\n";
     cout<<endl;
     cout<<"           1. Reccomended tours : \n";
     cout<<"           2. Festival tours : \n";
     cout<<"           3. Tour packeges  : \n";
     cout<<"           4. others : \n";
     cout<<"           #  Exit : \n";
     //to  enter the above choices use this variable
     cout<<"\n==== press : ";
      enter=getche();cout<<endl;
     system("pause");
     system("cls");
     loadingBar();
     system("cls");
     system("color 07");
     switch(enter)
            {
                case '1':
            entAGAIN:      cout<<"\n  ======== Reccomended tours are : \n";
                	         cout<<"1. Bahir Dar\n";
                           cout<<"2. Gondar\n";
                           cout<<"3. Axum\n";
                           cout<<"4. Lalibela\n";
                           cout<<"5. Semein mauntain\n";
                           cout<<"# back\n";
                           cout<<"$ Exit\n";
                      cout<<"to check there availability press: ";
                                retval=checkAvail(givenData);
                        if (retval==1)
                               {
                               	 cout<<"\n1.back\n";
                                     cout<<"2.to continue press there number\n";
                      retry:   enter=getche();
                                switch(enter)
                                       {
                                       	case '1':
                                       	         goto entAGAIN;
                                       	         system("cls");
                                       	         break;
                                          case '2':
                                                   switchCheck();
                                       	         break;
                                          default :
                                          	 cout<<"wrong entry try again!!\n";
                                                 goto retry;
						   }
					 }
                        else if(retval==0)
		                {

				cout<<"\nif you want to back to main page press 1 to exit press 0\n";
					//to exit or continue use this variables
					 retry1:   enter=getche();
                                switch(enter)
                                       {
                                       	case '1':
                                       	         goto returned;
                                       	         system("cls");
                                       	         break;
                                          case '0':
                                          	   exit(0);
                                       	         break;
                                          default :
                                          	 cout<<"wrong entry try again!!\n";
                                                 goto retry1;
						   }
					}
					break;
			  case '2':
			  	cout<<"festival";
			  	break;
			  case '3':
			  	cout<<"package";
			  	break;
			  case '4':
			  	cout<<"others";
			  	 break;
			  case '#':
			  	exit(0);
			  	break;
			  default :
			         {
			         	 system("color 04");
			             cout<<"wrong entry\n";
			             cout<<"try again\n";
				       system("color 07");
				       goto entAGAIN;
				        break;
				   }
                   }
		    }
  int checkAvail(allData passedD)
            {
                    back:   enter = getche();
                                loadingBar();
                                 system("cls");
                                 system("color 07");
	            int returnVAL;
	                switch(enter)
                                      {
               	      case '1':
               		{
               		      if (strcmp(passedD.reccomend1,passedD.avail1)==0)
               		            {
						      cout<<"Availaible";
							returnVAL= 1;
                                    }
                              else if(strcmp(passedD.reccomend1,passedD.avail2)==0)
     		                        {
						cout<<"Availaible";
						returnVAL= 1;
                                    }
     		                  else if(strcmp(passedD.reccomend1,passedD.avail3)==0)
     		                        {
						cout<<"Availaible";
						returnVAL= 1;
                                    }
     		                  else
     		                        {
						cout<<"Not Availaible";
				            returnVAL= 0;
						}
     		                        return returnVAL;
     		                        break;
					      }
	            	case '2':
               		{

               		     if (strcmp(passedD.reccomend2,passedD.avail1)==0)
               		            {
                                          returnVAL= 1;
							cout<<"Availaible";
                                    }
     		                 else if(strcmp(passedD.reccomend2,passedD.avail2)==0)
     		                        {
							returnVAL= 1;
						      cout<<"Availaible";
                                    }
     		                 else if(strcmp(passedD.reccomend2,passedD.avail3)==0)
     		                        {
							returnVAL= 1;
							cout<<"Availaible";
                                    }
     		                 else
     		                        {
     		                              returnVAL= 0;
							cout<<"Not Availaible";
						}

     		                              return returnVAL;
     		                              break;
				}
                       case '3':
               		{

               		     if (strcmp(passedD.reccomend3,passedD.avail1)==0)
               		            {
						   returnVAL= 1;
						   cout<<"Availaible";
                                    }
     		                 else if(strcmp(passedD.reccomend3,passedD.avail2)==0)
     		                        {
						   returnVAL= 1;
						   cout<<"Availaible";
                                    }
     		                 else if(strcmp(passedD.reccomend3,passedD.avail3)==0)
     		                        {
						   returnVAL= 1;
						   cout<<"Availaible";
                                    }
     		                 else
     		                        {
     		                           returnVAL= 0;
						   cout<<"Not Availaible";
						}
     		                           return returnVAL;
     		                           break;
				}
				case '4':
               		{

               		     if (strcmp(passedD.reccomend4,passedD.avail1)==0)
                                    {
						  returnVAL= 1;
						  cout<<"Availaible";
                                    }
     		                 else if(strcmp(passedD.reccomend4,passedD.avail2)==0)
     		                        {
						  returnVAL= 1;
						  cout<<"Availaible";
                                    }
     		                 else if(strcmp(passedD.reccomend4,passedD.avail3)==0)
     		                        {
						  returnVAL= 1;
						  cout<<"Availaible";
                                    }
     		                 else
     		                        {
						  returnVAL= 0;
						  cout<<"Not Availaible";
                                    }

     		                          return returnVAL;
     		                          break;
				}
				case '5':
               		{

               		    if (strcmp(passedD.reccomend5,passedD.avail1)==0)
               		            {
			                    returnVAL= 1;
						  cout<<"Availaible";
                                    }
     		                else if(strcmp(passedD.reccomend5,passedD.avail2)==0)
     		                         {
     		                            returnVAL= 1;
						    cout<<"Availaible";
     		                         }
     		                else if(strcmp(passedD.reccomend5,passedD.avail3)==0)
     		                         {
						    returnVAL= 1;
						    cout<<"Availaible";
                                     }
     		                else
     		                         {
						    returnVAL= 0;
						    cout<<"Not Availaible";
                                     }

     		                            return returnVAL;
     		                            break;
		            }
		            case '#':
		                  userlogin();
		                  break;
                        case '$':
                     	       exit(0);
                     	       break;
                	       default :
                	       	  system("color 04");
                	       	  cout<<"you entered wrong number ";
                	       	  system("color 07");
                	       	  cout<<"please enter again";
                	       	  goto back;
                	       	  break;
			}
            }
void switchCheck()
{
	cout<<"\nenter your tour choice again\n";
        enter=getche();
	switch(enter)
	{
		case '1':
			bahirDarFun();
			loadingBar();
                   system("color 07");
			break;
            case '2':
            	gondarFun();
                  system("color 07");
            	break;
            case '3':
            	axumFun();
            	loadingBar();
                  system("color 07");
            	break;
            case '4':
            	  laliFun();
            	  loadingBar();
                  system("color 07");
            	break;
            case '5':
            	  semienFun();
            	  loadingBar();
                  system("color 07");
			break;
	}
}
int check;
void bahirDarFun()
{
	if(retval==1)
                       {
                       	cout<<"\nif you want to continue enter 1 to exit press 0\n";
                      	   enter=getche();
                     if (enter=='1')
                       	         {
                labelnum:system("cls");
					      cout<<"\n 1. information about your tour\n";
					      cout<<"\n 2. ticket reservation\n";
					      cout<<"\n 3. Ticket Cancillation\n";
					      cout<<"\n 4. update your entry data\n";
					    }
				     else
				          exit(0);
             cout<<"if you want to continue press the given number : "<<endl;
                  enter=getche();
			switch(enter)
			         {
				        case '1':
				        	{
				        	    loadingBar();
                                    system("cls");
                                    system("color 07");
			        	     BahiINFO();
                    reenter0:     cout<<"#. terminate\n";
                                  cout<<"$. back \n";
                                   enter=getche();
                                  if(enter=='#')
                                      exit(0);
                                  if(enter=='$')
                                    goto labelnum;
                                  if(enter!='#' || enter!='$')
                                  {cout<<"you entered wrong number\n";
                                  cout<<" please enter again\n";
                                   cin.clear();
                                   cin.ignore();
                                    goto reenter0;
                                  }
        	              	        break;
                            }
                        case '2':
                            {
                 	                 loadingBar();
                                    system("cls");
                                    system("color 07");
        	              	     ticketRESofB();
                    reenter:       cout<<"to terminate press 0\n";
                                  cout<<"to return back press 1\n";
                                  cout<<"to continue press # : \n";
                                   enter=getche();
                                if (enter=='0' || enter=='1')
                                     if(enter==0)
                                        exit(0);
                                     if(enter==1)
                                        goto labelnum;
                        else if(enter=='#')
                                {
                                float returned;
                                 returned=ticketcostB(tourTOT[20]);
                                 loadingBar();
                                 system("cls");
                                  system("color 07");
                                  cout<<"the total cost you cover is : \n";
                                         cout<<returned<<" birr\n";
                                }
                        else
                                  {cout<<"you entered wrong number\n";
                                  cout<<"please enter again\n";
                                     cin.clear();
                                     cin.ignore();
                                     goto reenter;
                                  }
                       reenter4:  cout<<"#. terminate\n";
                                  cout<<"$. back\n";
                                  cout<<"1. reserve the ticket \n";
                                 enter=getche();
                                if (enter=='#' || enter=='$')
                                     if(enter=='#')
                                        exit(0);
                                     if(enter=='$')
                                        goto labelnum;
                        else if(enter=='1')
                                {
                                    loadingBar();
                                  system("cls");
                                  system("color 07");
                                cout<<" seccessfully reserved \n";
                                  cout<<"can you pay now?\n";
                                  cout<<" 'y'   for    yes\n";
                                  cout<<" 'n'   for     No\n";
                        reenter6:      enter=getche();
                                        switch(enter)
                                        {
                                        case 'y':
                                        case 'Y':
                                        	        loadingBar();
                                                  system("cls");
                                                  system("color 07");
                                                 cout<<" 1. by online \n";
                                                 cout<<" 2. by cash \n";
                                                 cout<<" 3. Exit \n";
                                                 cout<<"press there number\n";
                                                 paymentFUN();
                                                 break;
                                        case 'n':
                                        case 'N':
                                                 break;
                                        default:
                                                      {
                                                        cout<<"you entered wrong number\n";
                                                         cout<<"please enter again\n";
                                                         cin.clear();
                                                          cin.ignore();
                                                          goto reenter6;
                                                     }
                                                     break;
                                        }
                                }
                        else
                                  {cout<<"you entered wrong number\n";
                                  cout<<"please enter again\n";
                                     cin.clear();
                                     cin.ignore();
                                     goto reenter4;
                                  }
                                  cout<<"#. to terminate\n";
                                  cout<<"$. continue\n";
                    reenter5:    enter=getche();
                                  if(enter=='#')
                                      exit(0);
                                  if(enter=='$')
                                        goto totalm;
                                  if(enter!='#' || enter!='$')
                                  {cout<<"\nyou entered wrong number\n";
                                  cout<<"please enter again\n";
                                     cin.clear();
                                     cin.ignore();
                                      system("cls");
                                     goto reenter5;
                                  }
           	        totalm: cout<<"\n #. to see your entry\n";
           	               cout<<"\n $ to Exit\n";
           	                     cin>>enter;
     	                     if(enter=='#')
     	                           yourEntry();
                           else
                                exit(0);
                                main();
                                	     break;
			         }
			            case 3:
              	                 ticketCANB();
              	                 break;
                              case 4:
     	              	  	     //update();
     	              	  	     break;

		               }

			     }
}
void gondarFun()
{
 bahirDarFun();
}
void axumFun()
{
 bahirDarFun();
}
void laliFun()
{
   bahirDarFun();
}
void semienFun()
{
bahirDarFun();
}
void BahiINFO()
{
	system("color 02");
	cout<<"\nAmazing information about the tours of Bahir dar"
           " Bahir Dar is a gateway to 37 ancient monasteries that have endured for"
           "centuries. These monasteries date back to the 16th and 17th centuries."
	     "These monasteries are well structured and the interiors are designed with pictures of martyrs."
	      "Ethiopians have a certain reverence for Christian martyrs and the walls of the monasteries tell"
		"the stories of different Bible legends.  At each church, your local guide will"
		"explain the significance of each of the images. To date, explorers and tourists alike"
		"are still drawn by its romanticizing tales and flair."
		"Visit Lake Tana"
              "Located in the Northwestern Highlands of the Amhara region in Ethiopia, Lake Tana is the"
		"largest Lake in Ethiopia and is the source of the Blue Nile. It is about 84 kilometers"
		"long and stretches as wide as around 66 kilometers. Lake Tana's beauty is complemented by"
		"its azure waters, lush shoreline and  birdlife variety. In 2015, The UNESCO Biosphere Reserve"
		"recognized Lake Tana for its natural and cultural importance."
            "Your trip will be incomplete without a visit to the Bahir Dar market. The market is busiest"
		"on Saturdays where people from nearby villages stream into the market to trade."
		"Bahir Dar market is the most beautiful traditional market in all of Northern Ethiopia."
		"Here you can buy different kinds of crops, crafts, spices, and souvenirs."
          "Check Out the Blue Nile Falls"
            "The Blue Nile falls is one of those fascinating places you don't want to "
		"miss on your Bahir Dar trip. Known to locals as  'Tis Islat' which means 'smoky waters',"
		"the waterfall is a 400 meter wide gush of the river during the rainy season plunging down over a 45 meter chasm."
		 "This chasm sends a continuous shower as far as a kilometer away to drench awestruck onlookers."<<endl;
              cout<<"\nto terminate press 0\n";
              cout<<"\nto return back press 1\n";
 reenter2:    enter=getche();
              loadingBar();
              system("cls");
              system("color 07");
              if(enter==0)
                 exit(0);
              if(enter==1)
                 bahirDarFun();
             if(enter!=0 || enter!=1)
                    {
                        cout<<"you entered wrong number\n";
                        cout<<"please enter again\n";
                        cin.clear();
                        cin.ignore();
                            goto reenter2;

                    }
}
void  ticketRESofB()
    {
    	cout<<"===== WELLCOME TO TICKET RESERVATION ====\n";
      cout<<"dear customer choose your choice from these packeges\n";
                cout<<"1. For individual\n";
                cout<<"2. For family\n";
                cout<<"3. For group\n";
                 int num;
              cout<<"\nto terminate press 0\n";
              cout<<"to return back press -1\n";
              cout<<"if you want to continue enter there respective value: \n";
               int PACKNUM;
          reenter3:  cin>>PACKNUM;
        if (PACKNUM==1)
             {
             	check=1;
             		cout<<"enter your name: \n";
             		cin>>bahir[0].name;
             		cout<<"enter your e-mail: \n";
             		cin>>bahir[0].email;
             		cout<<"enter your tour departure tour day: \n";
             		cin>>bahir[0].date1.depDay;
             		cout<<"enter your tour departure tour month: \n";
             		cin>>bahir[0].date1.depmm;
             		cout<<"enter your tour departure tour year: \n";
             		cin>>bahir[0].date1.depyy;
             		cout<<"enter your tour returning tour day: \n";
             		cin>>bahir[0].date1.retday;
             		cout<<"enter your tour returning tour month: \n";
             		cin>>bahir[0].date1.retmm;
             		cout<<"enter your tour returning tour year: \n";
             		cin>>bahir[0].date1.retyy;
             		cout<<"enter your age :\n";
             		cin>>bahir[0].age;
             		cout<<"enter your sex: \n";
             	ret1:	cin>>bahir[0].sex;
             		switch(bahir[0].sex)
             		         {
             		         	case 'm':
           		         		case 'M':
           		         			break;
 		         			case  'f':
    				            case 'F':
    				            	break;
		            	      default :
		            	      	 cout<<"you entered wrong data \n";
		            	      	 cout<<"please try again \n";
		            	      	 cin.clear();
		            	      	 cin.ignore();
		            	      	 goto ret1;
					    }
             		cout<<"enter your transportation way: enter 'plane' for plane 10000 birr,enter 'car' for car 9000 birr: \n";
             	cinB:	cin>>bahir[0].Tranum;
             		string s1="plane";string s2="car";
             		if((bahir[0].Tranum==s1) || (bahir[0].Tranum==s2));
		            else
		                  {
		                  	cout<<"wrong entry ,try again \n";
		                        goto cinB;
					}
             		cout<<"enter the amount of room wcich you reserve : \n";
             		cin>>bahir[0].numOFroom;
             		cout<<"enter your room choice for single 'Single', for double 'Double' : \n";
   		       cinB2:  cin>>bahir[0].typeOfroom;
             		     string st1="single";string st2="double";
             	if((bahir[0].typeOfroom==st1) || (bahir[0].typeOfroom==st2));
		            else
		                  {
		                  	cout<<"wrong entry ,try again \n";
                                    goto cinB2;
					}
		 }
		 else if(PACKNUM==2)
                 groupENTR();
         else if(PACKNUM==3)
                 groupENTR();
       else if(PACKNUM==0 || PACKNUM==-1)
                {
                 loadingBar();
                 system("cls");
                 system("color 07");
                 if(PACKNUM==0)
                    exit(0);
                 if(PACKNUM==-1)
                    bahirDarFun();
                }
        else
                    {
                        cout<<"you entered wrong number\n";
                        cout<<"please enter again\n";
                        cin.clear();
                        cin.ignore();
                            goto reenter3;

                    }

    }
int num;
void groupENTR()
{
cout<<"enter the amount of tourists: \n";
	cin>>num;
	for(int i=0;i<num;i++){

             		cout<<"enter your name: \n";
             		cin>>bahir[i].name;
             		cout<<"enter your e-mail: \n";
             		cin>>bahir[i].email;
             		cout<<"enter your tour departure tour day: \n";
             		cin>>bahir[i].date1.depDay;
             		cout<<"enter your tour departure tour month: \n";
             		cin>>bahir[i].date1.depmm;
             		cout<<"enter your tour departure tour year: \n";
             		cin>>bahir[i].date1.depyy;
             		cout<<"enter your tour returning tour day: \n";
             		cin>>bahir[i].date1.retday;
             		cout<<"enter your tour returning tour month: \n";
             		cin>>bahir[i].date1.retmm;
             		cout<<"enter your tour returning tour year: \n";
             		cin>>bahir[i].date1.retyy;
             		cout<<"enter your age :\n";
             		cin>>bahir[i].age;
             		cout<<"enter your sex: \n";
             	ret1:	cin>>bahir[i].sex;
             		switch(bahir[i].sex)
             		         {
             		         	case 'm':
           		         		case 'M':
           		         			break;
 		         			case  'f':
    				            case 'F':
    				            	break;
		            	      default :
		            	      	 cout<<"you entered wrong data \n";
		            	      	 cout<<"please try again \n";
		            	      	 cin.clear();
		            	      	 cin.ignore();
		            	      	 goto ret1;
					    }
             		cout<<"enter your transportation way: enter 'plane' for plane 10000 birr,enter 'car' for car 9000 birr: \n";
             	cinB:	cin>>bahir[i].Tranum;
             		string s1="plane";string s2="car";
             		if((bahir[i].Tranum==s1) || (bahir[i].Tranum==s2));
		            else
		                  {
		                  	cout<<"wrong entry ,try again \n";
		                        goto cinB;
					}
             		cout<<"enter the amount of room wcich you reserve : \n";
             		cin>>bahir[i].numOFroom;
             		cout<<"enter your room choice for single 'Single', for double 'Double' : \n";
   		       cinB2:  cin>>bahir[i].typeOfroom;
             		     string st1="single";string st2="double";
             	if((bahir[i].typeOfroom==st1) || (bahir[i].typeOfroom==st2));
		            else
		                  {
		                  	cout<<"wrong entry ,try again \n";
                                    goto cinB2;
					}
cout<<endl;
}
}
void yourEntry()
{
	 cout<<"ID number"<<setw(10)<<"Name"<<setw(10)<<"E-mail"<<setw(20)<<"departure\ndate"<<setw(20)<<"returning\ndate"<<setw(10)<<"Age"
	<<setw(10)<<"Sex"<<setw(20)<<"transportation"<<setw(20)<<"Amount of\nroom"<<setw(10)<<"Type of\nroom"<<setw(10)<<"no_of\ntourist";
	cout<<endl;
	if (check==1){
	for(int i=0;i<1;i++)
       {
       	cout<<"ATA 001"<<setw(10)<<bahir[0].name<<left<<setw(10)<<bahir[0].email<<left<<setw(10)<<bahir[0].date1.depDay<<"/"<<bahir[0].date1.depmm
	      <<"/"<<bahir[0].date1.depyy<<left<<setw(10)<<bahir[0].date1.retday<<"/"<<bahir[0].date1.retmm<<"/"<<bahir[0].date1.retyy<<left
	      <<setw(10)<<bahir[0].age<<left<<setw(10)<<bahir[0].sex<<left<<setw(10)<<bahir[0].Tranum<<left<<setw(10)<<bahir[0].numOFroom<<left<<setw(20)<<bahir[0].typeOfroom<<left<<setw(20)<<"1";
	 cout<<endl;
	 }
	}
	else {
       for(int i=0;i<num;i++)
       {
       	cout<<bahir[i].name<<left<<setw(10)<<bahir[i].email<<left<<setw(10)<<bahir[i].date1.depDay<<"/"<<bahir[i].date1.depmm
	      <<"/"<<bahir[i].date1.depyy<<left<<setw(10)<<bahir[i].date1.retday<<"/"<<bahir[i].date1.retmm<<"/"<<bahir[i].date1.retyy
	      <<setw(10)<<bahir[i].age<<setw(20)<<bahir[i].sex<<setw(10)<<bahir[i].Tranum<<setw(10)<<bahir[i].numOFroom<<setw(10)<<bahir[i].typeOfroom;
	 cout<<endl;
	 }
}
}
void adminsearch()
{
 re_enter: string choice;
  cout<<"1.for individual data\n";
  cout<<"2.for group \n";
  cout<<"3.for family \n";
  cout<<"4.go back\n";
  enter=getche();
  above:
  switch(enter)
  {case '1':
  	fam_ent:
    cout<<"\nenter your name :\n";
  	cin>>choice;
  	for(int i=0;i<num;i++){
       if(bahir[i].name==choice)
      {
        cout<<"ID number"<<setw(10)<<"Name"<<setw(10)<<"E-mail"<<setw(20)<<"departure\ndate"<<setw(20)<<"returning\ndate"<<setw(10)<<"Age"
	<<setw(10)<<"Sex"<<setw(20)<<"transportation"<<setw(20)<<"Amount of\nroom"<<setw(10)<<"Type of\nroom"<<setw(10)<<"no_of\ntourist";
	cout<<endl;
	if (check==1){
       	cout<<"ATA"<<i+1<<setw(10)<<bahir[0].name<<left<<setw(10)<<bahir[0].email<<left<<setw(10)<<bahir[0].date1.depDay<<"/"<<bahir[0].date1.depmm
	      <<"/"<<bahir[0].date1.depyy<<left<<setw(10)<<bahir[0].date1.retday<<"/"<<bahir[0].date1.retmm<<"/"<<bahir[0].date1.retyy<<left
	      <<setw(10)<<bahir[0].age<<left<<setw(10)<<bahir[0].sex<<left<<setw(10)<<bahir[0].Tranum<<left<<setw(10)<<bahir[0].numOFroom<<left<<setw(20)<<bahir[0].typeOfroom<<left<<setw(20)<<"1";
	    cout<<endl;
	         }
	else {
       	cout<<"ATA"<<i+1<<bahir[i].name<<left<<setw(10)<<bahir[i].email<<left<<setw(10)<<bahir[i].date1.depDay<<"/"<<bahir[i].date1.depmm
	      <<"/"<<bahir[i].date1.depyy<<left<<setw(10)<<bahir[i].date1.retday<<"/"<<bahir[i].date1.retmm<<"/"<<bahir[i].date1.retyy
	      <<setw(10)<<bahir[i].age<<setw(20)<<bahir[i].sex<<setw(10)<<bahir[i].Tranum<<setw(10)<<bahir[i].numOFroom<<setw(10)<<bahir[i].typeOfroom;
	 cout<<endl;
	     }
      }
      if(i==num-1 && bahir[i].name!=choice)
        {
         	cout<<"\nthis name is not found\n\n\n";
         	cout<<"1. menu\n";
         	cout<<"2. try again\n";
         	enter=getche();
         	if(enter=='1')
         	    goto re_enter;
            else
	          goto above;
	       }
      }
      cout<<"1.back\n";
      cout<<"2.exit\n";
      enter=getche();
      if(enter=='1')
           goto re_enter;
       else if(enter=='2')
           exit(0);
	   break;
   case '2':
             goto fam_ent;
              break;
   case '3':
   	         goto fam_ent;
              break;
   case '4':
             adminOUT;
             break;
   default :
   		cout<<"wrong entry , try again:\n";
   		goto above;
   		adminOUT();
}
}
void sortData()
{
    for (int i=0; i<4; i++)
    {
        for (int j=i+1; j<5; j++)
        {
            if (bahir[i].date1.depmm > bahir[i].date1.depyy)
            {
                bahiTEchres temp = bahir[i].date1[i];
                bahir[i].date1[i] = bahir[i].date1[j];
                bahir[i].date1[j] = temp;
            }
            else if (bahir[i].date1.depyy == bahir[i].date1.depyy && bahir[i].date1.depmm > bahir[i].date1.depmm)
            {
                bahiTEchres temp = bahir[i].date1[i];
                bahir[i].date1[i] = bahir[i].date1[j];
                bahir[i].date1[j] = temp;
            }
            else if (bahir[i].date1.depyy == bahir[i].date1.depyy && bahir[i].date1.depmm == bahir[i].date1.depmm && bahir[i].date1.depDay > input[j].depDay)
            {
                bahiTEchres temp = bahir[i].date1[i];
                bahir[i].date1[i] = bahir[i].date1[j];
                bahir[i].date1[j] = temp;
            }

        }
    }


    for(int i=0; i<5; i++)
    {
        yourEntry();
    }
}
